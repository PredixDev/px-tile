{"version":3,"sources":["px-action-buttons.es6.js"],"names":["Polymer","is","properties","actionButtons","type","Object","value","observer","detached","$$","unlisten","_actionButtonsChanged","_notifyActionChange","_isDropdown","items","length","async","pxDropdown","multi","x","selected","key","set","dropdown","dom","root","querySelector","button","pxIcon","style","right","listen","_onSelected","evt","item","detail","model","_handleSelection","val","_itemSelected","_displayValueSelected","fire"],"mappings":"aAAA,CAAC,UAAW,CACVA,QAAQ,CAENC,GAAI,mBAFE,CAINC,WAAY,CACV;;;SAIAC,cAAe,CACbC,KAAMC,MADO,CAEbC,MAAO,EAFM,CAGbC,SAAU,uBAHG,CALL,CAJN,CAeN;;OAGAC,QAlBM,oBAkBK,CACT,GAAG,KAAKC,EAAL,CAAQ,aAAR,CAAH,CAA2B,CACzB,KAAKC,QAAL,CAAc,KAAKD,EAAL,CAAQ,aAAR,CAAd,CAAsC,+BAAtC,CACD,CACF,CAtBK,CAuBN;;;;OAKAE,qBA5BM,iCA4BkB,CACtB;AACA,KAAKC,mBAAL,CAA2B,KAA3B,CACA,KAAKC,WAAL,CAAmB,KAAKV,aAAL,EAAsB,KAAKA,aAAL,CAAmBW,KAAzC,EAAkD,KAAKX,aAAL,CAAmBW,KAAnB,CAAyBC,MAAzB,CAAkC,CAAvG,CACA,GAAG,KAAKF,WAAR,CAAqB,CACnB,KAAKG,KAAL,CAAW,UAAU,CACnB,GAAIC,YAAa,KAAKR,EAAL,CAAQ,aAAR,CAAjB,CACA,GAAG,CAAC,KAAKN,aAAL,CAAmBe,KAAvB,CAA8B,CAC5B;AACA,IAAI,GAAIC,EAAR,GAAa,MAAKhB,aAAL,CAAmBW,KAAhC,CAAuC,CACrC,MAAO,MAAKX,aAAL,CAAmBW,KAAnB,CAAyBK,CAAzB,EAA4BC,QACpC,CACF,CACD,IAAI,GAAIC,IAAR,GAAe,MAAKlB,aAApB,CAAmC,CACjCc,WAAWK,GAAX,CAAeD,GAAf,CAAoB,KAAKlB,aAAL,CAAmBkB,GAAnB,CAApB,CACD,CACD,KAAKL,KAAL,CAAW,UAAW,CACpB;AACA,GAAIO,UAAWvB,QAAQwB,GAAR,CAAYP,WAAWQ,IAAvB,EAA6BC,aAA7B,CAA2C,WAA3C,CAAf,CACAH,SAASD,GAAT,CAAa,iBAAb,CAAgC,OAAhC,EACA,GAAIK,QAAS3B,QAAQwB,GAAR,CAAYP,WAAWQ,IAAvB,EAA6BC,aAA7B,CAA2C,SAA3C,CAAb,CACA,GAAIE,QAAS5B,QAAQwB,GAAR,CAAYG,MAAZ,EAAoBD,aAApB,CAAkC,SAAlC,CAAb,CACA,GAAGE,MAAH,CAAW,CACTA,OAAOC,KAAP,CAAaC,KAAb,CAAqB,MACtB,CACD,KAAKC,MAAL,CAAYd,UAAZ,CAAwB,+BAAxB,CAAyD,eAAzD,EACA,KAAKL,mBAAL,CAA2B,IAC5B,CAXD,CAYD,CAvBD,CAuBG,GAvBH,CAwBD,CAzBD,IAyBO,CACL,KAAKA,mBAAL,CAA2B,IAC5B,CACF,CA5DK,CA6DN;;OAGAoB,WAhEM,sBAgEMC,GAhEN,CAgEW,CACf,GAAIC,MAAOD,IAAIE,MAAJ,CAAWC,KAAX,EAAoBH,IAAIG,KAAJ,CAAUF,IAAzC,CACA,KAAKG,gBAAL,CAAsB,CACpBC,IAAKJ,KAAKI,GADU,CAEpBjB,IAAKa,KAAKb,GAFU,CAAtB,CAID,CAtEK,CAuEN;;OAGAkB,aA1EM,wBA0EQN,GA1ER,CA0Ea,CACjB,GAAIhB,YAAa,KAAKR,EAAL,CAAQ,aAAR,CAAjB,CACA,GAAG,KAAKN,aAAL,CAAmBe,KAAnB,EAA4BD,WAAWuB,qBAAX,GAAqCP,IAAIE,MAAJ,CAAWG,GAA/E,CAAoF,CAClF,KAAKD,gBAAL,CAAsBJ,IAAIE,MAA1B,CACD,CACF,CA/EK,CAgFN;;OAGAE,gBAnFM,2BAmFWF,MAnFX,CAmFmB,CACvB,GAAG,KAAKvB,mBAAR,CAA6B,CAC3B,KAAK6B,IAAL,CAAU,4BAAV,CAAwCN,MAAxC,CACD,CACF,CAvFK,CAAR,CAyFD,CA1FD","file":"px-action-buttons.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'px-action-buttons',\n\n    properties: {\n      /**\n       * Action buttons to display below the description/copy text.\n       * Please refer to px-dropdown (https://github.com/PredixDev/px-dropdown) for a list of supported properties\n       */\n      actionButtons: {\n        type: Object,\n        value: {},\n        observer: '_actionButtonsChanged'\n      }\n    },\n    /**\n     * Detach event listeners for dropdown action buttons.\n     */\n    detached() {\n      if(this.$$('#pxDropdown')) {\n        this.unlisten(this.$$('#pxDropdown'), 'px-dropdown-selection-changed');\n      }\n    },\n    /**\n     * Observer when actionButtons changes.  \n     * Sets flag _isDropdown true if actionButtons size is greater than 3, false otherwise.\n     * If _isDropdown === true it will update px-dropdown options menu\n     */\n    _actionButtonsChanged() {\n      // set _notifyActionChange false to prevent firing px-dropdown-selection-changed while updating the new set of buttons\n      this._notifyActionChange = false;\n      this._isDropdown = this.actionButtons && this.actionButtons.items && this.actionButtons.items.length > 3;\n      if(this._isDropdown) {\n        this.async(function(){\n          let pxDropdown = this.$$('#pxDropdown');\n          if(!this.actionButtons.multi) {\n            // remove selected if passed on when is not multi selection\n            for(var x in this.actionButtons.items) {\n              delete this.actionButtons.items[x].selected;\n            }\n          }\n          for(var key in this.actionButtons) {\n            pxDropdown.set(key, this.actionButtons[key]);\n          }\n          this.async(function() {\n            // adjust dropdown to appear aligned to the right\n            let dropdown = Polymer.dom(pxDropdown.root).querySelector('#dropdown');\n            dropdown.set('horizontalAlign', 'right');\n            let button = Polymer.dom(pxDropdown.root).querySelector('#button');\n            let pxIcon = Polymer.dom(button).querySelector('px-icon');\n            if(pxIcon) {\n              pxIcon.style.right = '-8px';\n            }\n            this.listen(pxDropdown, 'px-dropdown-selection-changed', '_itemSelected');\n            this._notifyActionChange = true;\n          });\n        }, 100);\n      } else {\n        this._notifyActionChange = true;\n      }\n    },\n    /**\n     * Callback for on-tap event for action items when the list size is 3 or less\n     */\n    _onSelected(evt) {\n      let item = evt.detail.model || evt.model.item;\n      this._handleSelection({\n        val: item.val, \n        key: item.key\n      });\n    },\n    /**\n     * Callback for selected/unselected action title dropdown items when the list is greater than 3\n     */\n    _itemSelected(evt) {\n      let pxDropdown = this.$$('#pxDropdown');\n      if(this.actionButtons.multi || pxDropdown._displayValueSelected === evt.detail.val) {\n        this._handleSelection(evt.detail);\n      }\n    },\n    /**\n     * Fires px-title-action with selection detail. E.g. {key: \"1\", val: \"Favorite\", selected: true}\n     */\n    _handleSelection(detail) {\n      if(this._notifyActionChange) {\n        this.fire('px-title-on-action-clicked', detail);\n      }\n    }\n  });\n})();\n"]}